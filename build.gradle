plugins {
    id 'org.jetbrains.kotlin.jvm' version '1.8.21'
    id 'com.github.johnrengelman.shadow' version '8.1.1'
    id 'java-library'
}

group = 'com.mkihr-ojisan'
version = '1.0-SNAPSHOT'

repositories {
    mavenCentral()
    maven { url = "https://repo.papermc.io/repository/maven-public/" }
    maven { url = "https://repo.opencollab.dev/maven-snapshots/" }
    maven { url = "https://repo.opencollab.dev/maven-releases/" }
}

dependencies {
    compileOnly("io.papermc.paper:paper-api:1.20-R0.1-SNAPSHOT")
    compileOnly("org.geysermc.floodgate:api:2.2.2-SNAPSHOT")
    compileOnly("org.geysermc.geyser:api:2.1.1-SNAPSHOT")

    implementation("org.jetbrains.kotlin:kotlin-stdlib")

    implementation("com.google.code.gson:gson:2.10")

    implementation("org.eclipse.jetty:jetty-io:11.0.15")
    implementation("org.eclipse.jetty:jetty-server:11.0.15")
    implementation("org.eclipse.jetty:jetty-servlet:11.0.15")
    implementation("org.eclipse.jetty.websocket:websocket-jetty-server:11.0.15")
}

compileKotlin {
    kotlinOptions.jvmTarget = '17'
}

tasks.named("build") {
    dependsOn("shadowJar")
}